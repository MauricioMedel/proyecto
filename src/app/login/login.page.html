<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">Inicio de sesión</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="login-container">
    <ion-card color="tertiary">
      <ion-card-content>
        <!-- Logo de la farmacia -->
        <img src="assets/img/logo_farmacia.png" alt="Logo de la Farmacia" class="logo" />

        <!-- Formulario de inicio de sesión -->
        <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
          <!-- Campo de Usuario -->
          <ion-item class="input-item">
            <ion-label position="floating" color="dark">Usuario</ion-label>
            <ion-input
              type="text"
              [(ngModel)]="username"
              name="username"
              required
              autocomplete="username"
              class="black-text"
            ></ion-input>
          </ion-item>

          <!-- Campo de Contraseña -->
          <ion-item class="input-item">
            <ion-label position="floating" color="dark">Contraseña</ion-label>
            <ion-input
              [type]="passwordType"
              [(ngModel)]="password"
              name="password"
              required
              autocomplete="current-password"
              class="black-text"
            ></ion-input>
          </ion-item>

          <!-- Casilla de verificación para mostrar/ocultar contraseña -->
          <ion-item lines="none" color="fondo">
            <ion-label>Mostrar contraseña</ion-label>
            <ion-checkbox 
              slot="start" 
              (ionChange)="togglePasswordVisibility($event)"
              class="custom-checkbox"
            ></ion-checkbox>
          </ion-item>

          <!-- Botón de Ingresar -->
          <ion-button
            expand="full"
            type="submit"
            [disabled]="!loginForm.form.valid"
            color="primary"
            shape="round"
          >
            Ingresar
          </ion-button>

          <!-- Botón de Crear cuenta -->
          <ion-button
            expand="full"
            color="secondary"
            shape="round"
            (click)="goToRegister()"
          >
            Crear cuenta
          </ion-button>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>

<style>
  /* Contenedor principal */
  .login-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    padding: 20px;
    background-color: var(--ion-color-light);
  }

  /* Tarjeta de inicio de sesión */
  ion-card {
    width: 100%;
    max-width: 400px;
    text-align: center;
  }

  /* Logo de la farmacia */
  .logo {
    width: 80%;
    max-width: 200px;
    margin-bottom: 20px;
  }

  /* Estilo de los campos de entrada */
  .input-item {
    --background: var(--ion-color-fondo); 
    margin-bottom: 15px; 
    border-radius: 5px; 
  }

  /* Texto en color negro */
  .black-text {
    --color: black;
  }
</style>
